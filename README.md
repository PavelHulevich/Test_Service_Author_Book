# Задание для Python developer - IT Bootcamp Test Task Python
##            Компактный веб-сервис, позволяющий работать с авторами и книгами.
###            Для запуска проекта необходимо:

Note: В версии 0.1.1 испольуемая БД заменена c postgresql на sql3

- Установить на машине Python 3.11
- Перенести проект на локальную машину
- Запускаем терминал
- Убеждаемся, что мы не находимся в виртуальном окружении другого проекта.
- При необходимости выходим из него: .venv\Scripts\deactivate.bat
- pip list – убеждаемся, что poetry установлен
- Если poetry не установлен, устанавливаем его: pip install poetry.
- настраиваем Poetry так, чтобы он создавал виртуальное окружение virtualenvs
    не в cache-директории C:\Users\<username>\AppData\Local\pypoetry\Cache\virtualenvs, а в корневом каталоге проекта.
    Для этого установим переменной virtualenvs.in-project значение true:
    poetry config virtualenvs.in-project true
- переходим в папку проекта на локальной машине
- python -m poetry shell - создаем виртуальное окружение проекта
- poetry install – устанавливаем зависимости из pyproject.toml
- python manage.py makemigrations – подготавливаем файл миграций
- python manage.py migrate – выполняем миграцию БД.
- python manage.py runserver – запускаем сервер
- http://127.0.0.1:8000/ - переходим на стартовую страницу проекта
- Теперь, в веб-интерфейсе можно переходить на страницы с книгами или авторами, нажимая 
    соответствующие кнопки. Добавлять книги и авторов, просматривать и удалять их, выполнять поиск,
    возвращаться на главную страницу. Либо выполнять теже действия обращаясь в адресной строке по 
    соответствующим эндпоинтам.
     
    


 ###       1. Схема базы данных проекта

Модель «Author»
Поля:
- id SERIAL PRIMARY KEY (целочисленный, первичный ключ, автоинкрементируемый)
- name VARCHAR (35) NOT NULL UNIQUE (строковый, не пустой, уникальный (35))

Модель «Book»
- id SERIAL PRIMARY KEY (целочисленный, первичный ключ, автоинкрементируемый)
- title VARCHAR (35) NOT NULL UNIQUE (строковый, не пустой, уникальный (35))

Связи:
- fk_book_to_author многие к одному с моделью «Author»


###        2. Описание функционала проекта

1. Добавление нового автора
2. Редактирование имени автора
3. Поиск всех книг автора
4. Просмотр списка всех авторов
5. Просмотр данных автора по id
6. Удаление автора
7. Удаление всех авторов
8. Добавление книги
9. Редактирование данных книги
10. Просмотр списка всех книг
11. Просмотр книги по id
12. Поиск книги по названию
13. Поиск книг по имени автора
14. Удаление книги
15. Удаление всех книг


###        3. Описание эндпоинтов

1. author/{author_id}
	- method= GET / name='AuthorView'
	- Описание: Просмотр данных автора
	- Входные данные: ID Автора
	- Работа с данными: получение данных из таблицы Author
	- Запись в таблицу: Нет

2. author/create
	- method=POST / name='author_create'
	- Описание: Добавление нового автора
	- Входные данные: Нет.
	- Работа с данными: создание новой записи в таблице Author с введенными данными
	- Запись таблицы: Author

3. author/edit/{author_id}
	- method=POST / name=’author_update’
	- Описание: Редактирование имени автора
	- Входные данные: ID автора
	- Работа с данными: изменение записи в таблице Author с введенными данными
	- Запись таблицы: Author
4. author/del/{author_id}
	- method=POST / name='author_del'
	- Описание: Удаление автора
	- Входные данные: ID автора
	- Работа с данными: удаление записи из таблицы Author с веденными данными
	- Запись таблицы: Author
5. author/del/all
	- method=POST / name='author_all_del'
	- Описание: Удаление всех авторов
	- Входные данные: Нет
	- Работа с данными: удаление всех записей из таблицы Author
	- Запись таблицы: Author

6. author/find/{author_id}
	- method=GET / name='author_find_book'
	- Описание: Поиск всех книг автора
	- Входные данные: ID автора
	- Работа с данными: получение записей из таблицы Book
	- Запись таблицы: Нет

7. author/
	- method=GET / name='AuthorAllView’
	- Описание: Вывод списка всех авторов
	- Входные данные: Нет
	- Работа с данными: получение записей из таблицы Author
	- Запись таблицы: Нет.

8. book/{book_id}
	- method= GET / name='BookView'
	- Описание: Просмотр данных книги
	- Входные данные: ID Книги
	- Работа с данными: получение данных из таблицы Book и Author
	- Запись в таблицу: Нет

9. book/create
	- method=POST / name='book_create'
	- Описание: Добавление новой книги
	- Входные данные: Нет.
	- Работа с данными: создание новой записи в таблице Book с введенными данными
	- Запись таблицы: Book

10. book/edit/{book_id}
	- method=POST / name=’book_update’
	- Описание: Редактирование книги
	- Входные данные: ID книги
	- Работа с данными: изменение записи в таблице Book с введенными данными
	- Запись таблицы: Book
11. book/del/{book_id}
	- method=POST / name='book_del'
	- Описание: Удаление книги
	- Входные данные: ID книги
	- Работа с данными: удаление записи из таблицы Book с веденными данными
	- Запись таблицы: Book
12. book/del/all
	- method=POST / name='book_all_del'
	- Описание: Удаление всех книг
	- Входные данные: Нет
	- Работа с данными: удаление всех записей из таблицы Book
	- Запись таблицы: Book

13. book/
	- method=GET / name='BookAllView’
	- Описание: Вывод списка всех книг
	- Входные данные: Нет
	- Работа с данными: получение записей из таблицы Book
	- Запись таблицы: Нет.

14.1 book/find_author/
	- method=GET / name='book_find_author'
	- Описание: Поиск всех книг по имени автора
	- Входные данные: В веб интерфейсе после ввода имени автора, формируется строка                         
        запроса: books/find_author/?find_text={имя автора}
	- Работа с данными: получение записей из таблицы Book, Author
	- Запись таблицы: Нет

14.2 book/find_author/
	- method=GET / name='book_find_book'
	- Описание: Поиск книги по названию
	- Входные данные: В веб интерфейсе после ввода названия книги формируется строка                         
        запроса: books/find_book/?find_text={название книги}
	- Работа с данными: получение записей из таблицы Book, Author
	- Запись таблицы: Нет



